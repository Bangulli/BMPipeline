2025-04-02 12:06:41,156 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220114100114/1000_Sagittal 3D FSPGR Gado reformats as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220114100114/anat/sub-PAT0686_ses-20220114100114_run-1_T1w.nii.gz[0m[0m
2025-04-02 12:06:51,302 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220701104408/300_AX T1 2mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220701104408/anat/sub-PAT0686_ses-20220701104408_run-1_T1w.nii.gz[0m[0m
2025-04-02 12:07:08,310 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set[0m[0m
2025-04-02 12:07:08,623 - ERROR - /home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0686.2200031653.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-04-02 12:07:24,615 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set/RS.1.2.752.243.1.1.20220113150216867.2800.35304[0m[0m
2025-04-02 12:07:25,114 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160728140636 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 12:07:25,127 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160822103555 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 12:07:26,073 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0686, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-02 12:07:26,073 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20220114100114': 'ses-20220115130523', 'ses-20220312130216': None, 'ses-20220507125659': None, 'ses-20220701104408': None, 'ses-20220903123106': None, 'ses-20221112122309': None, 'ses-20230114094854': None, 'ses-20230501090552': None, 'ses-20230703073725': None, 'ses-20231002072608': None, 'ses-20231204085459': None, 'ses-20240318071631': None}[0m[0m
2025-04-02 12:07:26,095 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20220114100114 for patient sub-PAT0686[0m[0m
2025-04-02 12:08:44,243 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20220114100114 and struct study ses-20220115130523 to t0[0m[0m
2025-04-02 12:09:16,232 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220312130216 to t0[0m[0m
2025-04-02 12:09:43,808 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220507125659 to t0[0m[0m
2025-04-02 12:10:15,646 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220701104408 to t0[0m[0m
2025-04-02 12:10:42,598 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220903123106 to t0[0m[0m
2025-04-02 12:11:07,843 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20221112122309 to t0[0m[0m
2025-04-02 12:11:33,731 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230114094854 to t0[0m[0m
2025-04-02 12:12:02,570 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230501090552 to t0[0m[0m
2025-04-02 12:12:33,633 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230703073725 to t0[0m[0m
2025-04-02 12:13:01,871 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231002072608 to t0[0m[0m
2025-04-02 12:13:26,701 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231204085459 to t0[0m[0m
2025-04-02 12:13:56,703 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20240318071631 to t0[0m[0m
2025-04-02 12:13:56,704 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-02 12:13:56,705 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-04-02 12:23:19,560 - INFO - == running multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod== saved multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod_predictions== running singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod== saved singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod_predictions
2025-04-02 13:33:42,723 - INFO - skipping pat PAT0010skipping pat PAT0010skipping pat PAT0012skipping pat PAT0012skipping pat PAT0012skipping pat PAT0012skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0020skipping pat PAT0020skipping pat PAT0022skipping pat PAT0023skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0026skipping pat PAT0026skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0028skipping pat PAT0028skipping pat PAT0028skipping pat PAT0031skipping pat PAT0031skipping pat PAT0033skipping pat PAT0033skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0052skipping pat PAT0052skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0064skipping pat PAT0065skipping pat PAT0065skipping pat PAT0065skipping pat PAT0066skipping pat PAT0066skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0072skipping pat PAT0072skipping pat PAT0076skipping pat PAT0076skipping pat PAT0076skipping pat PAT0076skipping pat PAT0081skipping pat PAT0083skipping pat PAT0083skipping pat PAT0085skipping pat PAT0085skipping pat PAT0086skipping pat PAT0086skipping pat PAT0087skipping pat PAT0087skipping pat PAT0090skipping pat PAT0090skipping pat PAT0098skipping pat PAT0098skipping pat PAT0100skipping pat PAT0100skipping pat PAT0101skipping pat PAT0101skipping pat PAT0102skipping pat PAT0102skipping pat PAT0106skipping pat PAT0106skipping pat PAT0106skipping pat PAT0106skipping pat PAT0107skipping pat PAT0107skipping pat PAT0107skipping pat PAT0110skipping pat PAT0111skipping pat PAT0111skipping pat PAT0112skipping pat PAT0114skipping pat PAT0114skipping pat PAT0116skipping pat PAT0116skipping pat PAT0118skipping pat PAT0118skipping pat PAT0119skipping pat PAT0119skipping pat PAT0122skipping pat PAT0122skipping pat PAT0122skipping pat PAT0122skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0128skipping pat PAT0128skipping pat PAT0130skipping pat PAT0131skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0133skipping pat PAT0133skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0141skipping pat PAT0141skipping pat PAT0141skipping pat PAT0144skipping pat PAT0144skipping pat PAT0147skipping pat PAT0147skipping pat PAT0150skipping pat PAT0150skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0158skipping pat PAT0158skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0166skipping pat PAT0166skipping pat PAT0166skipping pat PAT0166skipping pat PAT0168skipping pat PAT0168skipping pat PAT0168skipping pat PAT0169skipping pat PAT0169skipping pat PAT0170skipping pat PAT0170skipping pat PAT0171skipping pat PAT0171skipping pat PAT0172skipping pat PAT0172skipping pat PAT0172skipping pat PAT0172skipping pat PAT0174skipping pat PAT0174skipping pat PAT0182skipping pat PAT0182skipping pat PAT0182skipping pat PAT0182skipping pat PAT0183skipping pat PAT0183skipping pat PAT0185skipping pat PAT0185skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0196skipping pat PAT0196skipping pat PAT0197skipping pat PAT0197skipping pat PAT0197skipping pat PAT0198skipping pat PAT0198skipping pat PAT0202skipping pat PAT0202skipping pat PAT0204skipping pat PAT0204skipping pat PAT0205skipping pat PAT0205skipping pat PAT0205skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0211skipping pat PAT0211skipping pat PAT0212skipping pat PAT0212skipping pat PAT0214skipping pat PAT0215skipping pat PAT0215skipping pat PAT0218skipping pat PAT0218skipping pat PAT0225skipping pat PAT0225skipping pat PAT0226skipping pat PAT0226skipping pat PAT0226skipping pat PAT0227skipping pat PAT0227skipping pat PAT0229skipping pat PAT0229skipping pat PAT0231skipping pat PAT0231skipping pat PAT0231skipping pat PAT0231skipping pat PAT0232skipping pat PAT0232skipping pat PAT0233skipping pat PAT0233skipping pat PAT0233skipping pat PAT0233skipping pat PAT0234skipping pat PAT0235skipping pat PAT0235skipping pat PAT0235skipping pat PAT0235skipping pat PAT0236skipping pat PAT0236skipping pat PAT0236skipping pat PAT0237skipping pat PAT0237skipping pat PAT0237skipping pat PAT0238skipping pat PAT0238skipping pat PAT0239skipping pat PAT0239skipping pat PAT0243skipping pat PAT0243skipping pat PAT0243skipping pat PAT0243skipping pat PAT0246skipping pat PAT0246skipping pat PAT0247skipping pat PAT0247skipping pat PAT0249skipping pat PAT0249skipping pat PAT0250skipping pat PAT0250skipping pat PAT0250skipping pat PAT0250skipping pat PAT0252skipping pat PAT0253skipping pat PAT0253skipping pat PAT0256skipping pat PAT0256skipping pat PAT0256skipping pat PAT0256skipping pat PAT0257skipping pat PAT0257skipping pat PAT0258skipping pat PAT0258skipping pat PAT0258skipping pat PAT0258skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0272skipping pat PAT0272skipping pat PAT0272skipping pat PAT0272skipping pat PAT0273skipping pat PAT0273skipping pat PAT0274skipping pat PAT0274skipping pat PAT0274skipping pat PAT0278skipping pat PAT0278skipping pat PAT0278skipping pat PAT0278skipping pat PAT0279skipping pat PAT0279skipping pat PAT0281skipping pat PAT0281skipping pat PAT0285skipping pat PAT0285skipping pat PAT0287skipping pat PAT0287skipping pat PAT0288skipping pat PAT0288skipping pat PAT0288skipping pat PAT0288skipping pat PAT0290skipping pat PAT0290skipping pat PAT0290skipping pat PAT0291skipping pat PAT0291skipping pat PAT0292skipping pat PAT0292skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0294skipping pat PAT0294skipping pat PAT0294skipping pat PAT0294skipping pat PAT0297skipping pat PAT0297skipping pat PAT0299skipping pat PAT0303skipping pat PAT0303skipping pat PAT0303skipping pat PAT0306skipping pat PAT0306skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0316skipping pat PAT0316skipping pat PAT0319skipping pat PAT0319skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0326skipping pat PAT0326skipping pat PAT0332skipping pat PAT0332skipping pat PAT0332skipping pat PAT0333skipping pat PAT0333skipping pat PAT0334skipping pat PAT0334skipping pat PAT0339skipping pat PAT0339skipping pat PAT0340skipping pat PAT0340skipping pat PAT0346skipping pat PAT0346skipping pat PAT0350skipping pat PAT0350skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0352skipping pat PAT0352skipping pat PAT0352skipping pat PAT0352skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0354skipping pat PAT0354skipping pat PAT0356skipping pat PAT0356skipping pat PAT0357skipping pat PAT0357skipping pat PAT0360skipping pat PAT0360skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0370skipping pat PAT0370skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0373skipping pat PAT0373skipping pat PAT0378skipping pat PAT0380skipping pat PAT0380skipping pat PAT0381skipping pat PAT0381skipping pat PAT0387skipping pat PAT0387skipping pat PAT0392skipping pat PAT0392skipping pat PAT0394skipping pat PAT0394skipping pat PAT0396skipping pat PAT0396skipping pat PAT0398skipping pat PAT0401skipping pat PAT0401skipping pat PAT0401skipping pat PAT0402skipping pat PAT0402skipping pat PAT0405skipping pat PAT0405skipping pat PAT0405skipping pat PAT0406skipping pat PAT0411skipping pat PAT0412skipping pat PAT0412skipping pat PAT0412skipping pat PAT0412skipping pat PAT0413skipping pat PAT0413skipping pat PAT0414skipping pat PAT0414skipping pat PAT0418skipping pat PAT0418skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0424skipping pat PAT0424skipping pat PAT0424skipping pat PAT0433skipping pat PAT0433skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0435skipping pat PAT0435skipping pat PAT0437skipping pat PAT0437skipping pat PAT0437skipping pat PAT0437skipping pat PAT0440skipping pat PAT0440skipping pat PAT0442skipping pat PAT0442skipping pat PAT0442skipping pat PAT0442skipping pat PAT0443skipping pat PAT0443skipping pat PAT0444skipping pat PAT0444skipping pat PAT0451skipping pat PAT0451skipping pat PAT0452skipping pat PAT0458skipping pat PAT0458skipping pat PAT0458skipping pat PAT0458skipping pat PAT0462skipping pat PAT0462skipping pat PAT0462skipping pat PAT0462skipping pat PAT0463skipping pat PAT0463skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0466skipping pat PAT0466skipping pat PAT0466skipping pat PAT0466skipping pat PAT0468skipping pat PAT0468skipping pat PAT0468skipping pat PAT0471skipping pat PAT0471skipping pat PAT0472skipping pat PAT0475skipping pat PAT0475skipping pat PAT0476skipping pat PAT0479skipping pat PAT0479skipping pat PAT0479skipping pat PAT0480skipping pat PAT0481skipping pat PAT0483skipping pat PAT0483skipping pat PAT0487skipping pat PAT0487skipping pat PAT0489skipping pat PAT0489skipping pat PAT0489skipping pat PAT0489skipping pat PAT0490skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0495skipping pat PAT0496skipping pat PAT0496skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0499skipping pat PAT0499skipping pat PAT0500skipping pat PAT0500skipping pat PAT0504skipping pat PAT0504skipping pat PAT0507skipping pat PAT0507skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0514skipping pat PAT0514skipping pat PAT0514skipping pat PAT0514skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0520skipping pat PAT0520skipping pat PAT0520skipping pat PAT0520skipping pat PAT0525skipping pat PAT0525skipping pat PAT0525skipping pat PAT0525skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0530skipping pat PAT0531skipping pat PAT0531skipping pat PAT0532skipping pat PAT0532skipping pat PAT0532skipping pat PAT0532skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0535skipping pat PAT0535skipping pat PAT0536skipping pat PAT0538skipping pat PAT0538skipping pat PAT0539skipping pat PAT0539skipping pat PAT0541skipping pat PAT0541skipping pat PAT0543skipping pat PAT0543skipping pat PAT0543skipping pat PAT0543skipping pat PAT0547skipping pat PAT0547skipping pat PAT0547skipping pat PAT0547skipping pat PAT0549skipping pat PAT0549skipping pat PAT0549skipping pat PAT0549skipping pat PAT0551skipping pat PAT0551skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0554skipping pat PAT0554skipping pat PAT0554skipping pat PAT0554skipping pat PAT0556skipping pat PAT0556skipping pat PAT0558skipping pat PAT0558skipping pat PAT0559skipping pat PAT0559skipping pat PAT0560skipping pat PAT0560skipping pat PAT0563skipping pat PAT0563skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0572skipping pat PAT0572skipping pat PAT0573skipping pat PAT0573skipping pat PAT0575skipping pat PAT0575skipping pat PAT0575skipping pat PAT0575skipping pat PAT0577skipping pat PAT0577skipping pat PAT0578skipping pat PAT0578skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0582skipping pat PAT0582skipping pat PAT0584skipping pat PAT0584skipping pat PAT0588skipping pat PAT0588skipping pat PAT0592skipping pat PAT0592skipping pat PAT0592skipping pat PAT0592skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0596skipping pat PAT0596skipping pat PAT0597skipping pat PAT0597skipping pat PAT0600skipping pat PAT0600skipping pat PAT0601skipping pat PAT0603skipping pat PAT0603skipping pat PAT0610skipping pat PAT0610skipping pat PAT0610skipping pat PAT0610skipping pat PAT0612skipping pat PAT0612skipping pat PAT0612skipping pat PAT0612skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0618skipping pat PAT0618skipping pat PAT0620skipping pat PAT0620skipping pat PAT0625skipping pat PAT0633skipping pat PAT0633skipping pat PAT0634skipping pat PAT0635skipping pat PAT0635skipping pat PAT0635skipping pat PAT0635skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0637skipping pat PAT0637skipping pat PAT0637skipping pat PAT0637skipping pat PAT0643skipping pat PAT0643skipping pat PAT0643skipping pat PAT0643skipping pat PAT0646skipping pat PAT0646skipping pat PAT0647skipping pat PAT0647skipping pat PAT0651skipping pat PAT0651skipping pat PAT0656skipping pat PAT0656skipping pat PAT0657skipping pat PAT0657skipping pat PAT0665skipping pat PAT0665skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0671skipping pat PAT0671skipping pat PAT0671skipping pat PAT0671skipping pat PAT0675skipping pat PAT0675skipping pat PAT0675skipping pat PAT0678skipping pat PAT0679skipping pat PAT0679skipping pat PAT0683skipping pat PAT0683skipping pat PAT0684skipping pat PAT0684skipping pat PAT0685skipping pat PAT0685[0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220114100114/1000_Sagittal 3D FSPGR Gado reformats as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220114100114/anat/sub-PAT0686_ses-20220114100114_run-1_T1w.nii.gz[0m[0m
2025-04-02 13:33:53,215 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220701104408/300_AX T1 2mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220701104408/anat/sub-PAT0686_ses-20220701104408_run-1_T1w.nii.gz[0m[0m
2025-04-02 13:34:07,396 - INFO - skipping pat PAT0690skipping pat PAT0690skipping pat PAT0691skipping pat PAT0691skipping pat PAT0694skipping pat PAT0694skipping pat PAT0696skipping pat PAT0696skipping pat PAT0697skipping pat PAT0697skipping pat PAT0701skipping pat PAT0701skipping pat PAT0702skipping pat PAT0702skipping pat PAT0706skipping pat PAT0706skipping pat PAT0706skipping pat PAT0707skipping pat PAT0707skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0710skipping pat PAT0710skipping pat PAT0710skipping pat PAT0710skipping pat PAT0715skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0726skipping pat PAT0727skipping pat PAT0727skipping pat PAT0730skipping pat PAT0730skipping pat PAT0731skipping pat PAT0731skipping pat PAT0732skipping pat PAT0732skipping pat PAT0733skipping pat PAT0734skipping pat PAT0734skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0738skipping pat PAT0738skipping pat PAT0740skipping pat PAT0740skipping pat PAT0740skipping pat PAT0740skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0745skipping pat PAT0747skipping pat PAT0747skipping pat PAT0747skipping pat PAT0748skipping pat PAT0748skipping pat PAT0748skipping pat PAT0748skipping pat PAT0749skipping pat PAT0749skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0753skipping pat PAT0753skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0757skipping pat PAT0757skipping pat PAT0760skipping pat PAT0760skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0763skipping pat PAT0763skipping pat PAT0765skipping pat PAT0768skipping pat PAT0768skipping pat PAT0768skipping pat PAT0769skipping pat PAT0769skipping pat PAT0769skipping pat PAT0769skipping pat PAT0770skipping pat PAT0770skipping pat PAT0780skipping pat PAT0780skipping pat PAT0780skipping pat PAT0780skipping pat PAT0781skipping pat PAT0781skipping pat PAT0781skipping pat PAT0781skipping pat PAT0783skipping pat PAT0783skipping pat PAT0783skipping pat PAT0783skipping pat PAT0788skipping pat PAT0788skipping pat PAT0792skipping pat PAT0792skipping pat PAT0795skipping pat PAT0795skipping pat PAT0803skipping pat PAT0803skipping pat PAT0809skipping pat PAT0809skipping pat PAT0809skipping pat PAT0809skipping pat PAT0810skipping pat PAT0810skipping pat PAT0815skipping pat PAT0815skipping pat PAT0816skipping pat PAT0816skipping pat PAT0817skipping pat PAT0817skipping pat PAT0820skipping pat PAT0820skipping pat PAT0820skipping pat PAT0820skipping pat PAT0821skipping pat PAT0822skipping pat PAT0822skipping pat PAT0824skipping pat PAT0824skipping pat PAT0827skipping pat PAT0827skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0836skipping pat PAT0836skipping pat PAT0837skipping pat PAT0837skipping pat PAT0840skipping pat PAT0840skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0846skipping pat PAT0846skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0848skipping pat PAT0848skipping pat PAT0849skipping pat PAT0849skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0856skipping pat PAT0857skipping pat PAT0857skipping pat PAT0857skipping pat PAT0860skipping pat PAT0862skipping pat PAT0862skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0866skipping pat PAT0866skipping pat PAT0870skipping pat PAT0870skipping pat PAT0870skipping pat PAT0871skipping pat PAT0871skipping pat PAT0872skipping pat PAT0872skipping pat PAT0873skipping pat PAT0873skipping pat PAT0873skipping pat PAT0873skipping pat PAT0875skipping pat PAT0876skipping pat PAT0878skipping pat PAT0878skipping pat PAT0879skipping pat PAT0879skipping pat PAT0879skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0889skipping pat PAT0889skipping pat PAT0890skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0897skipping pat PAT0897skipping pat PAT0897skipping pat PAT0897skipping pat PAT0901skipping pat PAT0907skipping pat PAT0907skipping pat PAT0909skipping pat PAT0909skipping pat PAT0911skipping pat PAT0911skipping pat PAT0911skipping pat PAT0912skipping pat PAT0912skipping pat PAT0912skipping pat PAT0912skipping pat PAT0914skipping pat PAT0914skipping pat PAT0916skipping pat PAT0916skipping pat PAT0918skipping pat PAT0920skipping pat PAT0920skipping pat PAT0920skipping pat PAT0920skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0925skipping pat PAT0925skipping pat PAT0926skipping pat PAT0927skipping pat PAT0927skipping pat PAT0929skipping pat PAT0929skipping pat PAT0929skipping pat PAT0929skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0937skipping pat PAT0937skipping pat PAT0939skipping pat PAT0939skipping pat PAT0939skipping pat PAT0939skipping pat PAT0944skipping pat PAT0944skipping pat PAT0944skipping pat PAT0946skipping pat PAT0946skipping pat PAT0948skipping pat PAT0950skipping pat PAT0950skipping pat PAT0950skipping pat PAT0950skipping pat PAT0957skipping pat PAT0957skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0962skipping pat PAT0962skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0971skipping pat PAT0971skipping pat PAT0973skipping pat PAT0973skipping pat PAT0975skipping pat PAT0975skipping pat PAT0975skipping pat PAT0975skipping pat PAT0977skipping pat PAT0977skipping pat PAT0979skipping pat PAT0979skipping pat PAT0984skipping pat PAT0986skipping pat PAT0986skipping pat PAT0986skipping pat PAT0986skipping pat PAT0990skipping pat PAT0990skipping pat PAT0992skipping pat PAT0992skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0996skipping pat PAT0996skipping pat PAT0997skipping pat PAT0997skipping pat PAT1002skipping pat PAT1002skipping pat PAT1012skipping pat PAT1012skipping pat PAT1013skipping pat PAT1013skipping pat PAT1014skipping pat PAT1014skipping pat PAT1014skipping pat PAT1015skipping pat PAT1015skipping pat PAT1016skipping pat PAT1016skipping pat PAT1018skipping pat PAT1018skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1023skipping pat PAT1023skipping pat PAT1024skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1028skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1030skipping pat PAT1030skipping pat PAT1030skipping pat PAT1030skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1035skipping pat PAT1035skipping pat PAT1036skipping pat PAT1037skipping pat PAT1037skipping pat PAT1039skipping pat PAT1039skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1044skipping pat PAT1044skipping pat PAT1045skipping pat PAT1051skipping pat PAT1051skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1053skipping pat PAT1053skipping pat PAT1058skipping pat PAT1058skipping pat PAT1062skipping pat PAT1062skipping pat PAT1063skipping pat PAT1063skipping pat PAT1066skipping pat PAT1066skipping pat PAT1067skipping pat PAT1067skipping pat PAT1068skipping pat PAT1068skipping pat PAT1068skipping pat PAT1068skipping pat PAT1071skipping pat PAT1071skipping pat PAT1071skipping pat PAT1071skipping pat PAT1077skipping pat PAT1077skipping pat PAT1077skipping pat PAT1078skipping pat PAT1083skipping pat PAT1083skipping pat PAT1083skipping pat PAT1086skipping pat PAT1086skipping pat PAT1090skipping pat PAT1090skipping pat PAT1094skipping pat PAT1094skipping pat PAT1099skipping pat PAT1099skipping pat PAT1099skipping pat PAT1100skipping pat PAT1101skipping pat PAT1101skipping pat PAT1102skipping pat PAT1102skipping pat PAT1106skipping pat PAT1106skipping pat PAT1109skipping pat PAT1109skipping pat PAT1109skipping pat PAT1109skipping pat PAT1110skipping pat PAT1110skipping pat PAT1113skipping pat PAT1113skipping pat PAT1114skipping pat PAT1114skipping pat PAT1114skipping pat PAT1114skipping pat PAT1118skipping pat PAT1120skipping pat PAT1121skipping pat PAT1124skipping pat PAT1124skipping pat PAT1129skipping pat PAT1129skipping pat PAT1132skipping pat PAT1132skipping pat PAT1133skipping pat PAT1134skipping pat PAT1138skipping pat PAT1138skipping pat PAT1140skipping pat PAT1140skipping pat PAT1141skipping pat PAT1141skipping pat PAT1143skipping pat PAT1143skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146[0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set[0m[0m
2025-04-02 13:34:07,750 - ERROR - /home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0686.2200031653.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-04-02 13:34:23,785 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set/RS.1.2.752.243.1.1.20220113150216867.2800.35304[0m[0m
2025-04-02 13:34:24,260 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160728140636 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 13:34:24,268 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160822103555 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 13:34:25,102 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0686, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-02 13:34:25,103 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20220114100114': 'ses-20220115130523', 'ses-20220312130216': None, 'ses-20220507125659': None, 'ses-20220701104408': None, 'ses-20220903123106': None, 'ses-20221112122309': None, 'ses-20230114094854': None, 'ses-20230501090552': None, 'ses-20230703073725': None, 'ses-20231002072608': None, 'ses-20231204085459': None, 'ses-20240318071631': None}[0m[0m
2025-04-02 13:34:25,115 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20220114100114 for patient sub-PAT0686[0m[0m
2025-04-02 13:35:42,681 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20220114100114 and struct study ses-20220115130523 to t0[0m[0m
2025-04-02 13:36:17,605 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220312130216 to t0[0m[0m
2025-04-02 13:36:48,472 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220507125659 to t0[0m[0m
2025-04-02 13:37:11,962 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220701104408 to t0[0m[0m
2025-04-02 13:37:43,455 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220903123106 to t0[0m[0m
2025-04-02 13:38:09,330 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20221112122309 to t0[0m[0m
2025-04-02 13:38:32,588 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230114094854 to t0[0m[0m
2025-04-02 13:38:52,922 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230501090552 to t0[0m[0m
2025-04-02 13:39:19,419 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230703073725 to t0[0m[0m
2025-04-02 13:39:45,141 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231002072608 to t0[0m[0m
2025-04-02 13:40:08,774 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231204085459 to t0[0m[0m
2025-04-02 13:40:43,261 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20240318071631 to t0[0m[0m
2025-04-02 13:40:43,266 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-02 13:40:43,266 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-04-02 13:50:14,070 - INFO - == running multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod== saved multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod_predictions== running singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod== saved singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod_predictions
2025-04-02 14:34:52,500 - ERROR - Traceback (most recent call last):
2025-04-02 14:34:52,501 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 86, in <module>
2025-04-02 14:34:52,501 - ERROR -     coiner.execute()  File "/home/lorenz/BMPipeline/src/coin_nonchuv.py", line 60, in execute
2025-04-02 14:34:52,501 - ERROR -     if any(arr<0):ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-04-02 14:36:22,363 - INFO - BIDS output directory exists, skipped conversion.[0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0010/ses-20220406102817/801_Sag 3D T1 Gd TFE CS as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0010/ses-20220406102817/anat/sub-PAT0010_ses-20220406102817_run-1_T1w.nii.gz[0m[0m
2025-04-02 14:36:24,046 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0010/ses-20220406102817/701_Ax T2 CS as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0010/ses-20220406102817/anat/sub-PAT0010_ses-20220406102817_run-1_T2w.nii.gz[0m[0m
2025-04-02 14:36:33,152 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0012/ses-20140530131600/901_sT1 TFE 3D GADO SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0012/ses-20140530131600/anat/sub-PAT0012_ses-20140530131600_run-1_T1w.nii.gz[0m[0m
2025-04-02 14:36:38,537 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0012/ses-20140530131600/301_T2_TSE_4MM JFX as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0012/ses-20140530131600/anat/sub-PAT0012_ses-20140530131600_run-1_T2w.nii.gz[0m[0m
2025-04-02 14:36:48,558 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0012/ses-20150330142300/801_sT1W_3D GADO s05 as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0012/ses-20150330142300/anat/sub-PAT0012_ses-20150330142300_run-1_T1w.nii.gz[0m[0m
2025-04-02 14:36:51,558 - ERROR - Traceback (most recent call last):
2025-04-02 14:36:51,558 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 621, in _get_deprecated_option
2025-04-02 14:36:51,559 - ERROR -     d = _deprecated_options[key]KeyError: 'mode.data_manager'
During handling of the above exception, another exception occurred:
2025-04-02 14:36:51,559 - ERROR - Traceback (most recent call last):
2025-04-02 14:36:51,559 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 86, in <module>
2025-04-02 14:36:51,559 - ERROR -     coiner.execute()  File "/home/lorenz/BMPipeline/src/coin_nonchuv.py", line 46, in execute
2025-04-02 14:36:51,559 - ERROR -     for i, r in self.map.iterrows():  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/core/frame.py", line 1410, in iterrows
2025-04-02 14:36:51,560 - ERROR -     s = klass(v, index=columns, name=k).__finalize__(self)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/core/series.py", line 473, in __init__
2025-04-02 14:36:51,560 - ERROR -     manager = get_option("mode.data_manager")  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 264, in __call__
2025-04-02 14:36:51,560 - ERROR -     return self.__func__(*args, **kwds)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 136, in _get_option
2025-04-02 14:36:51,560 - ERROR -     key = _get_single_key(pat, silent)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 128, in _get_single_key
2025-04-02 14:36:51,560 - ERROR -     _warn_if_deprecated(key)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 659, in _warn_if_deprecated
2025-04-02 14:36:51,561 - ERROR -     d = _get_deprecated_option(key)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pandas/_config/config.py", line 621, in _get_deprecated_option
2025-04-02 14:36:51,561 - ERROR -     d = _deprecated_options[key]KeyboardInterrupt
2025-04-02 14:37:27,669 - INFO - BIDS output directory exists, skipped conversion.[0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0012/ses-20150330142300/301_T2W_MV 3mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0012/ses-20150330142300/anat/sub-PAT0012_ses-20150330142300_run-1_T2w.nii.gz[0m[0m
2025-04-02 14:37:38,374 - INFO - skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0017skipping pat PAT0020skipping pat PAT0020skipping pat PAT0022skipping pat PAT0023skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0024skipping pat PAT0026skipping pat PAT0026skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0027skipping pat PAT0028skipping pat PAT0028skipping pat PAT0028skipping pat PAT0031skipping pat PAT0031skipping pat PAT0033skipping pat PAT0033skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0045skipping pat PAT0052skipping pat PAT0052skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0057skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0061skipping pat PAT0064skipping pat PAT0065skipping pat PAT0065skipping pat PAT0065skipping pat PAT0066skipping pat PAT0066skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0071skipping pat PAT0072skipping pat PAT0072skipping pat PAT0076skipping pat PAT0076skipping pat PAT0076skipping pat PAT0076skipping pat PAT0081skipping pat PAT0083skipping pat PAT0083skipping pat PAT0085skipping pat PAT0085skipping pat PAT0086skipping pat PAT0086skipping pat PAT0087skipping pat PAT0087skipping pat PAT0090skipping pat PAT0090skipping pat PAT0098skipping pat PAT0098skipping pat PAT0100skipping pat PAT0100skipping pat PAT0101skipping pat PAT0101skipping pat PAT0102skipping pat PAT0102skipping pat PAT0106skipping pat PAT0106skipping pat PAT0106skipping pat PAT0106skipping pat PAT0107skipping pat PAT0107skipping pat PAT0107skipping pat PAT0110skipping pat PAT0111skipping pat PAT0111skipping pat PAT0112skipping pat PAT0114skipping pat PAT0114skipping pat PAT0116skipping pat PAT0116skipping pat PAT0118skipping pat PAT0118skipping pat PAT0119skipping pat PAT0119skipping pat PAT0122skipping pat PAT0122skipping pat PAT0122skipping pat PAT0122skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0125skipping pat PAT0128skipping pat PAT0128skipping pat PAT0130skipping pat PAT0131skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0132skipping pat PAT0133skipping pat PAT0133skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0134skipping pat PAT0141skipping pat PAT0141skipping pat PAT0141skipping pat PAT0144skipping pat PAT0144skipping pat PAT0147skipping pat PAT0147skipping pat PAT0150skipping pat PAT0150skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0156skipping pat PAT0158skipping pat PAT0158skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0161skipping pat PAT0166skipping pat PAT0166skipping pat PAT0166skipping pat PAT0166skipping pat PAT0168skipping pat PAT0168skipping pat PAT0168skipping pat PAT0169skipping pat PAT0169skipping pat PAT0170skipping pat PAT0170skipping pat PAT0171skipping pat PAT0171skipping pat PAT0172skipping pat PAT0172skipping pat PAT0172skipping pat PAT0172skipping pat PAT0174skipping pat PAT0174skipping pat PAT0182skipping pat PAT0182skipping pat PAT0182skipping pat PAT0182skipping pat PAT0183skipping pat PAT0183skipping pat PAT0185skipping pat PAT0185skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0194skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0195skipping pat PAT0196skipping pat PAT0196skipping pat PAT0197skipping pat PAT0197skipping pat PAT0197skipping pat PAT0198skipping pat PAT0198skipping pat PAT0202skipping pat PAT0202skipping pat PAT0204skipping pat PAT0204skipping pat PAT0205skipping pat PAT0205skipping pat PAT0205skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0209skipping pat PAT0211skipping pat PAT0211skipping pat PAT0212skipping pat PAT0212skipping pat PAT0214skipping pat PAT0215skipping pat PAT0215skipping pat PAT0218skipping pat PAT0218skipping pat PAT0225skipping pat PAT0225skipping pat PAT0226skipping pat PAT0226skipping pat PAT0226skipping pat PAT0227skipping pat PAT0227skipping pat PAT0229skipping pat PAT0229skipping pat PAT0231skipping pat PAT0231skipping pat PAT0231skipping pat PAT0231skipping pat PAT0232skipping pat PAT0232skipping pat PAT0233skipping pat PAT0233skipping pat PAT0233skipping pat PAT0233skipping pat PAT0234skipping pat PAT0235skipping pat PAT0235skipping pat PAT0235skipping pat PAT0235skipping pat PAT0236skipping pat PAT0236skipping pat PAT0236skipping pat PAT0237skipping pat PAT0237skipping pat PAT0237skipping pat PAT0238skipping pat PAT0238skipping pat PAT0239skipping pat PAT0239skipping pat PAT0243skipping pat PAT0243skipping pat PAT0243skipping pat PAT0243skipping pat PAT0246skipping pat PAT0246skipping pat PAT0247skipping pat PAT0247skipping pat PAT0249skipping pat PAT0249skipping pat PAT0250skipping pat PAT0250skipping pat PAT0250skipping pat PAT0250skipping pat PAT0252skipping pat PAT0253skipping pat PAT0253skipping pat PAT0256skipping pat PAT0256skipping pat PAT0256skipping pat PAT0256skipping pat PAT0257skipping pat PAT0257skipping pat PAT0258skipping pat PAT0258skipping pat PAT0258skipping pat PAT0258skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0262skipping pat PAT0272skipping pat PAT0272skipping pat PAT0272skipping pat PAT0272skipping pat PAT0273skipping pat PAT0273skipping pat PAT0274skipping pat PAT0274skipping pat PAT0274skipping pat PAT0278skipping pat PAT0278skipping pat PAT0278skipping pat PAT0278skipping pat PAT0279skipping pat PAT0279skipping pat PAT0281skipping pat PAT0281skipping pat PAT0285skipping pat PAT0285skipping pat PAT0287skipping pat PAT0287skipping pat PAT0288skipping pat PAT0288skipping pat PAT0288skipping pat PAT0288skipping pat PAT0290skipping pat PAT0290skipping pat PAT0290skipping pat PAT0291skipping pat PAT0291skipping pat PAT0292skipping pat PAT0292skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0293skipping pat PAT0294skipping pat PAT0294skipping pat PAT0294skipping pat PAT0294skipping pat PAT0297skipping pat PAT0297skipping pat PAT0299skipping pat PAT0303skipping pat PAT0303skipping pat PAT0303skipping pat PAT0306skipping pat PAT0306skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0311skipping pat PAT0316skipping pat PAT0316skipping pat PAT0319skipping pat PAT0319skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0325skipping pat PAT0326skipping pat PAT0326skipping pat PAT0332skipping pat PAT0332skipping pat PAT0332skipping pat PAT0333skipping pat PAT0333skipping pat PAT0334skipping pat PAT0334skipping pat PAT0339skipping pat PAT0339skipping pat PAT0340skipping pat PAT0340skipping pat PAT0346skipping pat PAT0346skipping pat PAT0350skipping pat PAT0350skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0351skipping pat PAT0352skipping pat PAT0352skipping pat PAT0352skipping pat PAT0352skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0353skipping pat PAT0354skipping pat PAT0354skipping pat PAT0356skipping pat PAT0356skipping pat PAT0357skipping pat PAT0357skipping pat PAT0360skipping pat PAT0360skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0369skipping pat PAT0370skipping pat PAT0370skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0371skipping pat PAT0373skipping pat PAT0373skipping pat PAT0378skipping pat PAT0380skipping pat PAT0380skipping pat PAT0381skipping pat PAT0381skipping pat PAT0387skipping pat PAT0387skipping pat PAT0392skipping pat PAT0392skipping pat PAT0394skipping pat PAT0394skipping pat PAT0396skipping pat PAT0396skipping pat PAT0398skipping pat PAT0401skipping pat PAT0401skipping pat PAT0401skipping pat PAT0402skipping pat PAT0402skipping pat PAT0405skipping pat PAT0405skipping pat PAT0405skipping pat PAT0406skipping pat PAT0411skipping pat PAT0412skipping pat PAT0412skipping pat PAT0412skipping pat PAT0412skipping pat PAT0413skipping pat PAT0413skipping pat PAT0414skipping pat PAT0414skipping pat PAT0418skipping pat PAT0418skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0419skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0422skipping pat PAT0424skipping pat PAT0424skipping pat PAT0424skipping pat PAT0433skipping pat PAT0433skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0434skipping pat PAT0435skipping pat PAT0435skipping pat PAT0437skipping pat PAT0437skipping pat PAT0437skipping pat PAT0437skipping pat PAT0440skipping pat PAT0440skipping pat PAT0442skipping pat PAT0442skipping pat PAT0442skipping pat PAT0442skipping pat PAT0443skipping pat PAT0443skipping pat PAT0444skipping pat PAT0444skipping pat PAT0451skipping pat PAT0451skipping pat PAT0452skipping pat PAT0458skipping pat PAT0458skipping pat PAT0458skipping pat PAT0458skipping pat PAT0462skipping pat PAT0462skipping pat PAT0462skipping pat PAT0462skipping pat PAT0463skipping pat PAT0463skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0465skipping pat PAT0466skipping pat PAT0466skipping pat PAT0466skipping pat PAT0466skipping pat PAT0468skipping pat PAT0468skipping pat PAT0468skipping pat PAT0471skipping pat PAT0471skipping pat PAT0472skipping pat PAT0475skipping pat PAT0475skipping pat PAT0476skipping pat PAT0479skipping pat PAT0479skipping pat PAT0479skipping pat PAT0480skipping pat PAT0481skipping pat PAT0483skipping pat PAT0483skipping pat PAT0487skipping pat PAT0487skipping pat PAT0489skipping pat PAT0489skipping pat PAT0489skipping pat PAT0489skipping pat PAT0490skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0491skipping pat PAT0495skipping pat PAT0496skipping pat PAT0496skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0498skipping pat PAT0499skipping pat PAT0499skipping pat PAT0500skipping pat PAT0500skipping pat PAT0504skipping pat PAT0504skipping pat PAT0507skipping pat PAT0507skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0510skipping pat PAT0514skipping pat PAT0514skipping pat PAT0514skipping pat PAT0514skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0516skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0518skipping pat PAT0520skipping pat PAT0520skipping pat PAT0520skipping pat PAT0520skipping pat PAT0525skipping pat PAT0525skipping pat PAT0525skipping pat PAT0525skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0526skipping pat PAT0530skipping pat PAT0531skipping pat PAT0531skipping pat PAT0532skipping pat PAT0532skipping pat PAT0532skipping pat PAT0532skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0533skipping pat PAT0535skipping pat PAT0535skipping pat PAT0536skipping pat PAT0538skipping pat PAT0538skipping pat PAT0539skipping pat PAT0539skipping pat PAT0541skipping pat PAT0541skipping pat PAT0543skipping pat PAT0543skipping pat PAT0543skipping pat PAT0543skipping pat PAT0547skipping pat PAT0547skipping pat PAT0547skipping pat PAT0547skipping pat PAT0549skipping pat PAT0549skipping pat PAT0549skipping pat PAT0549skipping pat PAT0551skipping pat PAT0551skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0552skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0553skipping pat PAT0554skipping pat PAT0554skipping pat PAT0554skipping pat PAT0554skipping pat PAT0556skipping pat PAT0556skipping pat PAT0558skipping pat PAT0558skipping pat PAT0559skipping pat PAT0559skipping pat PAT0560skipping pat PAT0560skipping pat PAT0563skipping pat PAT0563skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0568skipping pat PAT0572skipping pat PAT0572skipping pat PAT0573skipping pat PAT0573skipping pat PAT0575skipping pat PAT0575skipping pat PAT0575skipping pat PAT0575skipping pat PAT0577skipping pat PAT0577skipping pat PAT0578skipping pat PAT0578skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0581skipping pat PAT0582skipping pat PAT0582skipping pat PAT0584skipping pat PAT0584skipping pat PAT0588skipping pat PAT0588skipping pat PAT0592skipping pat PAT0592skipping pat PAT0592skipping pat PAT0592skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0594skipping pat PAT0596skipping pat PAT0596skipping pat PAT0597skipping pat PAT0597skipping pat PAT0600skipping pat PAT0600skipping pat PAT0601skipping pat PAT0603skipping pat PAT0603skipping pat PAT0610skipping pat PAT0610skipping pat PAT0610skipping pat PAT0610skipping pat PAT0612skipping pat PAT0612skipping pat PAT0612skipping pat PAT0612skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0615skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0617skipping pat PAT0618skipping pat PAT0618skipping pat PAT0620skipping pat PAT0620skipping pat PAT0625skipping pat PAT0633skipping pat PAT0633skipping pat PAT0634skipping pat PAT0635skipping pat PAT0635skipping pat PAT0635skipping pat PAT0635skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0636skipping pat PAT0637skipping pat PAT0637skipping pat PAT0637skipping pat PAT0637skipping pat PAT0643skipping pat PAT0643skipping pat PAT0643skipping pat PAT0643skipping pat PAT0646skipping pat PAT0646skipping pat PAT0647skipping pat PAT0647skipping pat PAT0651skipping pat PAT0651skipping pat PAT0656skipping pat PAT0656skipping pat PAT0657skipping pat PAT0657skipping pat PAT0665skipping pat PAT0665skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0667skipping pat PAT0671skipping pat PAT0671skipping pat PAT0671skipping pat PAT0671skipping pat PAT0675skipping pat PAT0675skipping pat PAT0675skipping pat PAT0678skipping pat PAT0679skipping pat PAT0679skipping pat PAT0683skipping pat PAT0683skipping pat PAT0684skipping pat PAT0684skipping pat PAT0685skipping pat PAT0685found hypointense[0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220114100114/1000_Sagittal 3D FSPGR Gado reformats as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220114100114/anat/sub-PAT0686_ses-20220114100114_run-1_T1w.nii.gz[0m[0m
2025-04-02 14:37:48,314 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0686/ses-20220701104408/300_AX T1 2mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20220701104408/anat/sub-PAT0686_ses-20220701104408_run-1_T1w.nii.gz[0m[0m
2025-04-02 14:38:03,857 - INFO - skipping pat PAT0690skipping pat PAT0690skipping pat PAT0691skipping pat PAT0691skipping pat PAT0694skipping pat PAT0694skipping pat PAT0696skipping pat PAT0696skipping pat PAT0697skipping pat PAT0697skipping pat PAT0701skipping pat PAT0701skipping pat PAT0702skipping pat PAT0702skipping pat PAT0706skipping pat PAT0706skipping pat PAT0706skipping pat PAT0707skipping pat PAT0707skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0709skipping pat PAT0710skipping pat PAT0710skipping pat PAT0710skipping pat PAT0710skipping pat PAT0715skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0725skipping pat PAT0726skipping pat PAT0727skipping pat PAT0727skipping pat PAT0730skipping pat PAT0730skipping pat PAT0731skipping pat PAT0731skipping pat PAT0732skipping pat PAT0732skipping pat PAT0733skipping pat PAT0734skipping pat PAT0734skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0736skipping pat PAT0738skipping pat PAT0738skipping pat PAT0740skipping pat PAT0740skipping pat PAT0740skipping pat PAT0740skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0742skipping pat PAT0745skipping pat PAT0747skipping pat PAT0747skipping pat PAT0747skipping pat PAT0748skipping pat PAT0748skipping pat PAT0748skipping pat PAT0748skipping pat PAT0749skipping pat PAT0749skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0751skipping pat PAT0753skipping pat PAT0753skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0755skipping pat PAT0757skipping pat PAT0757skipping pat PAT0760skipping pat PAT0760skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0761skipping pat PAT0763skipping pat PAT0763skipping pat PAT0765skipping pat PAT0768skipping pat PAT0768skipping pat PAT0768skipping pat PAT0769skipping pat PAT0769skipping pat PAT0769skipping pat PAT0769skipping pat PAT0770skipping pat PAT0770skipping pat PAT0780skipping pat PAT0780skipping pat PAT0780skipping pat PAT0780skipping pat PAT0781skipping pat PAT0781skipping pat PAT0781skipping pat PAT0781skipping pat PAT0783skipping pat PAT0783skipping pat PAT0783skipping pat PAT0783skipping pat PAT0788skipping pat PAT0788skipping pat PAT0792skipping pat PAT0792skipping pat PAT0795skipping pat PAT0795skipping pat PAT0803skipping pat PAT0803skipping pat PAT0809skipping pat PAT0809skipping pat PAT0809skipping pat PAT0809skipping pat PAT0810skipping pat PAT0810skipping pat PAT0815skipping pat PAT0815skipping pat PAT0816skipping pat PAT0816skipping pat PAT0817skipping pat PAT0817skipping pat PAT0820skipping pat PAT0820skipping pat PAT0820skipping pat PAT0820skipping pat PAT0821skipping pat PAT0822skipping pat PAT0822skipping pat PAT0824skipping pat PAT0824skipping pat PAT0827skipping pat PAT0827skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0834skipping pat PAT0836skipping pat PAT0836skipping pat PAT0837skipping pat PAT0837skipping pat PAT0840skipping pat PAT0840skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0841skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0842skipping pat PAT0846skipping pat PAT0846skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0847skipping pat PAT0848skipping pat PAT0848skipping pat PAT0849skipping pat PAT0849skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0853skipping pat PAT0856skipping pat PAT0857skipping pat PAT0857skipping pat PAT0857skipping pat PAT0860skipping pat PAT0862skipping pat PAT0862skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0863skipping pat PAT0866skipping pat PAT0866skipping pat PAT0870skipping pat PAT0870skipping pat PAT0870skipping pat PAT0871skipping pat PAT0871skipping pat PAT0872skipping pat PAT0872skipping pat PAT0873skipping pat PAT0873skipping pat PAT0873skipping pat PAT0873skipping pat PAT0875skipping pat PAT0876skipping pat PAT0878skipping pat PAT0878skipping pat PAT0879skipping pat PAT0879skipping pat PAT0879skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0887skipping pat PAT0889skipping pat PAT0889skipping pat PAT0890skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0892skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0895skipping pat PAT0897skipping pat PAT0897skipping pat PAT0897skipping pat PAT0897skipping pat PAT0901skipping pat PAT0907skipping pat PAT0907skipping pat PAT0909skipping pat PAT0909skipping pat PAT0911skipping pat PAT0911skipping pat PAT0911skipping pat PAT0912skipping pat PAT0912skipping pat PAT0912skipping pat PAT0912skipping pat PAT0914skipping pat PAT0914skipping pat PAT0916skipping pat PAT0916skipping pat PAT0918skipping pat PAT0920skipping pat PAT0920skipping pat PAT0920skipping pat PAT0920skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0923skipping pat PAT0925skipping pat PAT0925skipping pat PAT0926skipping pat PAT0927skipping pat PAT0927skipping pat PAT0929skipping pat PAT0929skipping pat PAT0929skipping pat PAT0929skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0931skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0932skipping pat PAT0937skipping pat PAT0937skipping pat PAT0939skipping pat PAT0939skipping pat PAT0939skipping pat PAT0939skipping pat PAT0944skipping pat PAT0944skipping pat PAT0944skipping pat PAT0946skipping pat PAT0946skipping pat PAT0948skipping pat PAT0950skipping pat PAT0950skipping pat PAT0950skipping pat PAT0950skipping pat PAT0957skipping pat PAT0957skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0958skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0960skipping pat PAT0962skipping pat PAT0962skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0970skipping pat PAT0971skipping pat PAT0971skipping pat PAT0973skipping pat PAT0973skipping pat PAT0975skipping pat PAT0975skipping pat PAT0975skipping pat PAT0975skipping pat PAT0977skipping pat PAT0977skipping pat PAT0979skipping pat PAT0979skipping pat PAT0984skipping pat PAT0986skipping pat PAT0986skipping pat PAT0986skipping pat PAT0986skipping pat PAT0990skipping pat PAT0990skipping pat PAT0992skipping pat PAT0992skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0995skipping pat PAT0996skipping pat PAT0996skipping pat PAT0997skipping pat PAT0997skipping pat PAT1002skipping pat PAT1002skipping pat PAT1012skipping pat PAT1012skipping pat PAT1013skipping pat PAT1013skipping pat PAT1014skipping pat PAT1014skipping pat PAT1014skipping pat PAT1015skipping pat PAT1015skipping pat PAT1016skipping pat PAT1016skipping pat PAT1018skipping pat PAT1018skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1019skipping pat PAT1023skipping pat PAT1023skipping pat PAT1024skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1026skipping pat PAT1028skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1029skipping pat PAT1030skipping pat PAT1030skipping pat PAT1030skipping pat PAT1030skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1032skipping pat PAT1035skipping pat PAT1035skipping pat PAT1036skipping pat PAT1037skipping pat PAT1037skipping pat PAT1039skipping pat PAT1039skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1042skipping pat PAT1044skipping pat PAT1044skipping pat PAT1045skipping pat PAT1051skipping pat PAT1051skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1052skipping pat PAT1053skipping pat PAT1053skipping pat PAT1058skipping pat PAT1058skipping pat PAT1062skipping pat PAT1062skipping pat PAT1063skipping pat PAT1063skipping pat PAT1066skipping pat PAT1066skipping pat PAT1067skipping pat PAT1067skipping pat PAT1068skipping pat PAT1068skipping pat PAT1068skipping pat PAT1068skipping pat PAT1071skipping pat PAT1071skipping pat PAT1071skipping pat PAT1071skipping pat PAT1077skipping pat PAT1077skipping pat PAT1077skipping pat PAT1078skipping pat PAT1083skipping pat PAT1083skipping pat PAT1083skipping pat PAT1086skipping pat PAT1086skipping pat PAT1090skipping pat PAT1090skipping pat PAT1094skipping pat PAT1094skipping pat PAT1099skipping pat PAT1099skipping pat PAT1099skipping pat PAT1100skipping pat PAT1101skipping pat PAT1101skipping pat PAT1102skipping pat PAT1102skipping pat PAT1106skipping pat PAT1106skipping pat PAT1109skipping pat PAT1109skipping pat PAT1109skipping pat PAT1109skipping pat PAT1110skipping pat PAT1110skipping pat PAT1113skipping pat PAT1113skipping pat PAT1114skipping pat PAT1114skipping pat PAT1114skipping pat PAT1114skipping pat PAT1118skipping pat PAT1120skipping pat PAT1121skipping pat PAT1124skipping pat PAT1124skipping pat PAT1129skipping pat PAT1129skipping pat PAT1132skipping pat PAT1132skipping pat PAT1133skipping pat PAT1134skipping pat PAT1138skipping pat PAT1138skipping pat PAT1140skipping pat PAT1140skipping pat PAT1141skipping pat PAT1141skipping pat PAT1143skipping pat PAT1143skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146skipping pat PAT1146[0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set[0m[0m
2025-04-02 14:38:04,187 - ERROR - /home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0686.2200031653.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-04-02 14:38:20,688 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0686/ses-20220115130523/1_RS: Approved Structure Set/RS.1.2.752.243.1.1.20220113150216867.2800.35304[0m[0m
2025-04-02 14:38:21,372 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160728140636 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 14:38:21,419 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0686/ses-20160822103555 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-02 14:38:22,258 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0686, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-02 14:38:22,258 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20220114100114': 'ses-20220115130523', 'ses-20220312130216': None, 'ses-20220507125659': None, 'ses-20220701104408': None, 'ses-20220903123106': None, 'ses-20221112122309': None, 'ses-20230114094854': None, 'ses-20230501090552': None, 'ses-20230703073725': None, 'ses-20231002072608': None, 'ses-20231204085459': None, 'ses-20240318071631': None}[0m[0m
2025-04-02 14:38:22,274 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20220114100114 for patient sub-PAT0686[0m[0m
2025-04-02 14:39:14,696 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20220114100114 and struct study ses-20220115130523 to t0[0m[0m
2025-04-02 14:39:24,659 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220312130216 to t0[0m[0m
2025-04-02 14:39:33,783 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220507125659 to t0[0m[0m
2025-04-02 14:39:40,654 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220701104408 to t0[0m[0m
2025-04-02 14:39:50,865 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220903123106 to t0[0m[0m
2025-04-02 14:39:58,858 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20221112122309 to t0[0m[0m
2025-04-02 14:40:06,685 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230114094854 to t0[0m[0m
2025-04-02 14:40:13,661 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230501090552 to t0[0m[0m
2025-04-02 14:40:21,326 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230703073725 to t0[0m[0m
2025-04-02 14:40:28,811 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231002072608 to t0[0m[0m
2025-04-02 14:40:36,142 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231204085459 to t0[0m[0m
2025-04-02 14:40:45,436 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20240318071631 to t0[0m[0m
2025-04-02 14:40:45,449 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-02 14:40:45,449 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-04-02 14:52:10,189 - INFO - == running multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod== saved multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod_predictions== running singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod== saved singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod_predictions
2025-04-02 15:37:35,323 - INFO - BIDS output directory exists, skipped conversion.[0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0686, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-02 15:37:35,324 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20220114100114': 'ses-20220115130523', 'ses-20220312130216': None, 'ses-20220507125659': None, 'ses-20220701104408': None, 'ses-20220903123106': None, 'ses-20221112122309': None, 'ses-20230114094854': None, 'ses-20230501090552': None, 'ses-20230703073725': None, 'ses-20231002072608': None, 'ses-20231204085459': None, 'ses-20240318071631': None}[0m[0m
2025-04-02 15:37:35,348 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20220114100114 for patient sub-PAT0686[0m[0m
2025-04-02 15:38:19,454 - INFO - [0mCaught Exception in patient sub-PAT0686 and study ses-20220114100114[0m
2025-04-02 15:38:19,455 - INFO - [0m'ANTsImage' object has no attribute 'GetPixelIDValue'[0m
2025-04-02 15:38:19,455 - ERROR - Traceback (most recent call last):
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/src/filter_register.py", line 211, in execute
    t1_trans, t2_trans, transformed_structs = self._register_mr2mr(t0_image, t0_mask, t1_image, t2_image, transformed_structs)
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/src/filter_register.py", line 613, in _register_mr2mr
    moving_t1_mask = self._segment_image(moving_t1, 'mr')
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/src/filter_register.py", line 520, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=False, task='total_mr', quiet=True) # get segmentation brain = 50
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/src/utils.py", line 71, in sitk2nib
    image_np = sitk.GetArrayFromImage(image_sitk)  # Shape: (D, H, W)
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/SimpleITK/extra.py", line 296, in GetArrayFromImage
    array_view = GetArrayViewFromImage(image)
2025-04-02 15:38:19,456 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/SimpleITK/extra.py", line 269, in GetArrayViewFromImage
    pixel_id = image.GetPixelIDValue()
2025-04-02 15:38:19,456 - ERROR - AttributeError: 'ANTsImage' object has no attribute 'GetPixelIDValue'
2025-04-02 15:38:19,477 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-02 15:38:19,477 - INFO - [0mCaught exceptions in patients ['sub-PAT0686'], fix and rerun they have not been logged in the progress file.[0m
2025-04-02 15:38:19,538 - ERROR - Traceback (most recent call last):
2025-04-02 15:38:19,539 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 97, in <module>
2025-04-02 15:38:19,539 - ERROR -     DC.execute()  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 169, in execute
2025-04-02 15:38:19,539 - ERROR -     pat_time_series.finalize()  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 104, in finalize
2025-04-02 15:38:19,540 - ERROR -     mets = timepoint.get_mets()  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 36, in get_mets
2025-04-02 15:38:19,540 - ERROR -     return self._generate_mets_image()  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 60, in _generate_mets_image
2025-04-02 15:38:19,540 - ERROR -     image = sitk.ReadImage(self._mets/files[0])IndexError: list index out of range
2025-04-02 15:52:13,895 - INFO - BIDS output directory exists, skipped conversion.[0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0686, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-02 15:52:13,896 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20220114100114': 'ses-20220115130523', 'ses-20220312130216': None, 'ses-20220507125659': None, 'ses-20220701104408': None, 'ses-20220903123106': None, 'ses-20221112122309': None, 'ses-20230114094854': None, 'ses-20230501090552': None, 'ses-20230703073725': None, 'ses-20231002072608': None, 'ses-20231204085459': None, 'ses-20240318071631': None}[0m[0m
2025-04-02 15:52:13,899 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20220114100114 for patient sub-PAT0686[0m[0m
2025-04-02 15:53:07,785 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20220114100114 and struct study ses-20220115130523 to t0[0m[0m
2025-04-02 15:53:41,942 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220312130216 to t0[0m[0m
2025-04-02 15:54:13,392 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220507125659 to t0[0m[0m
2025-04-02 15:54:46,015 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220701104408 to t0[0m[0m
2025-04-02 15:55:20,026 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20220903123106 to t0[0m[0m
2025-04-02 15:55:51,058 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20221112122309 to t0[0m[0m
2025-04-02 15:56:21,884 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230114094854 to t0[0m[0m
2025-04-02 15:56:54,680 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230501090552 to t0[0m[0m
2025-04-02 15:57:27,727 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20230703073725 to t0[0m[0m
2025-04-02 15:58:00,029 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231002072608 to t0[0m[0m
2025-04-02 15:58:32,678 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20231204085459 to t0[0m[0m
2025-04-02 15:59:06,708 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20240318071631 to t0[0m[0m
2025-04-02 15:59:06,721 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-02 15:59:06,721 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-04-02 16:11:56,866 - INFO - == running multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod== saved multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod_predictions== running singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod== saved singlemodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod_predictions
2025-04-15 11:19:34,351 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20161103073039/1001_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20161103073039/anat/sub-PAT0617_ses-20161103073039_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:19:42,510 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20161103073039/501_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20161103073039/anat/sub-PAT0617_ses-20161103073039_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:19:51,491 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170302074451/1101_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170302074451/anat/sub-PAT0617_ses-20170302074451_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:19:59,587 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170302074451/801_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170302074451/anat/sub-PAT0617_ses-20170302074451_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:20:07,906 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170531160928/1001_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170531160928/anat/sub-PAT0617_ses-20170531160928_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:20:15,951 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170531160928/501_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170531160928/anat/sub-PAT0617_ses-20170531160928_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:20:24,386 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170703095321/1201_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170703095321/anat/sub-PAT0617_ses-20170703095321_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:20:32,734 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170703095321/501_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170703095321/anat/sub-PAT0617_ses-20170703095321_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:20:41,183 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170904103637/1101_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170904103637/anat/sub-PAT0617_ses-20170904103637_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:20:49,497 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20170904103637/601_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20170904103637/anat/sub-PAT0617_ses-20170904103637_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:20:58,256 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20171101083349/1001_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20171101083349/anat/sub-PAT0617_ses-20171101083349_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:21:06,668 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20171101083349/401_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20171101083349/anat/sub-PAT0617_ses-20171101083349_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:21:15,266 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20180312171636/1101_3D RXTH 1mm as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20180312171636/anat/sub-PAT0617_ses-20180312171636_run-1_T1w.nii.gz[0m[0m
2025-04-15 11:21:23,576 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined /mnt/nas6/data/Target/mrct1000_nobatch/sub-PAT-0617/ses-20180312171636/401_sT2W_TSE NEW SENSE as /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20180312171636/anat/sub-PAT0617_ses-20180312171636_run-1_T2w.nii.gz[0m[0m
2025-04-15 11:21:27,186 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20171105104233/0_BRAIN_1met24Gy_27m_FINAL - RTSS[0m[0m
2025-04-15 11:21:27,373 - ERROR - /home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0039.1700219995.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-04-15 11:21:46,224 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20171105104233/0_BRAIN_1met24Gy_27m_FINAL - RTSS/RS.1.2.840.114358.359.2.20171030074832.607761335999[0m[0m
2025-04-15 11:21:48,468 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20171105104233/0_BRAIN_1met24Gy_27m_FINAL - RTDOSE/RD.1.2.840.114358.359.2.20171030074834.607767901368 for RTStruct /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20171105104233/0_BRAIN_1met24Gy_27m_FINAL - RTSS/RS.1.2.840.114358.359.2.20171030074832.607761335999[0m[0m
2025-04-15 11:21:49,177 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20180128102552/0_PTV_Brain_MC_Fin_29min - RTSS[0m[0m
2025-04-15 11:21:49,413 - ERROR - /home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0039.1800019281.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-04-15 11:22:08,706 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20180128102552/0_PTV_Brain_MC_Fin_29min - RTSS/RS.1.2.840.114358.359.2.20180112081240.7868003607209[0m[0m
2025-04-15 11:22:23,492 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20180128102552/0_PTV_Brain_MC_Fin_29min - SMOOTHED DOSE/RD.1.2.840.114358.359.2.20180112081248.7868023939879 for RTStruct /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20180128102552/0_PTV_Brain_MC_Fin_29min - RTSS/RS.1.2.840.114358.359.2.20180112081240.7868003607209[0m[0m
2025-04-15 11:22:23,493 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0039/ses-20180128102552/0_monofrac_32min_FINAL - RTSS[0m[0m
2025-04-15 11:22:29,374 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/rerun_test/dicom/sub-PAT-0617/ses-20180504101749/0_PTV_Brain_21min - RTSS[0m[0m
2025-04-15 11:22:29,401 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20180504101749 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-15 11:22:30,026 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/rerun_test/bids/sub-PAT0617/ses-20161104121259 would be left empty as no CT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-04-15 11:22:31,764 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0039, fulfills criterion: {'studies >=': 4, 'obersvation period >=': 300, 'avg study interval <=': 90, 'rtstructs present >=': 1}[0m[0m
2025-04-15 11:22:31,765 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20171105121753': 'ses-20171105104233', 'ses-20180106130738': None, 'ses-20180128112131': 'ses-20180128102552', 'ses-20180414111256': None, 'ses-20180705110533': None, 'ses-20180928081622': None}[0m[0m
2025-04-15 11:22:31,794 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20171105121753 for patient sub-PAT0039[0m[0m
2025-04-15 11:23:11,224 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20171105121753 and struct study ses-20171105104233 to t0[0m[0m
2025-04-15 11:23:45,204 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20180106130738 to t0[0m[0m
2025-04-15 11:24:21,029 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20180128112131 and struct study ses-20180128102552 to t0[0m[0m
2025-04-15 11:24:54,648 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20180414111256 to t0[0m[0m
2025-04-15 11:25:28,046 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20180705110533 to t0[0m[0m
2025-04-15 11:26:01,784 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20180928081622 to t0[0m[0m
2025-04-15 11:26:01,932 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-04-15 11:26:01,932 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-04-15 11:33:10,095 - INFO - == running multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod== saved multimodal prediction on source data /mnt/nas6/data/Target/batch_copy/rerun_test/multimod_predictions== skipping singlemodal prediction, found no files in directory[0m[31m[4m[1mFAIL[0m:[0m Could not find resegmentation results at path /mnt/nas6/data/Target/batch_copy/rerun_test/singlemod_predictions[0m[0m
2025-05-24 15:23:52,191 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180307091258/1_NoSeriesDescription[0m[0m
2025-05-24 15:23:52,211 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20180307091258 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 15:23:52,997 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS[0m[0m
2025-05-24 15:23:53,839 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1800226159.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 15:23:57,872 - INFO - [0m[31m[4m[1mFAIL[0m:[0m RTSTRUCT conversion failed for RTSS at path /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS[0m[0m
2025-05-24 15:24:07,382 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTDOSE/RD.1.2.840.114358.14038002793810.20181010112643.9749596777232 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS/RS.1.2.840.114358.14038002793810.20181010112641.9749591690261[0m[0m
2025-05-24 15:24:08,230 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS[0m[0m
2025-05-24 15:24:08,629 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1800269211.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 15:24:11,246 - INFO - [0m[31m[4m[1mFAIL[0m:[0m RTSTRUCT conversion failed for RTSS at path /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS[0m[0m
2025-05-24 15:24:17,433 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTDOSE/RD.1.2.840.114358.14038002793774.20181218130710.4211221282190 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS/RS.1.2.840.114358.14038002793774.20181218130709.4211218392177[0m[0m
2025-05-24 15:24:18,023 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204113931/1_RS: Approved Structure Set[0m[0m
2025-05-24 15:24:18,033 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20181204113931 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 15:24:19,334 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS[0m[0m
2025-05-24 15:24:19,663 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1900248802.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 15:25:14,559 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS/RS.1.2.840.114358.14038002793774.20191031120316.6275089393500[0m[0m
2025-05-24 15:25:35,239 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - SMOOTHED DOSE/RD.1.2.840.114358.14038002793774.20191031120319.6275098034636 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS/RS.1.2.840.114358.14038002793774.20191031120316.6275089393500[0m[0m
2025-05-24 15:25:36,276 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191224090431/1_RS: Approved Structure Set[0m[0m
2025-05-24 15:25:36,308 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20191224090431 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 15:25:37,618 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20200327144251/1_RS: Approved Structure Set[0m[0m
2025-05-24 15:25:37,626 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20200327144251 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 15:25:37,891 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20191018125909 would be left empty as no CT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 15:25:49,448 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:25:49,448 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Discarding patient sub-PAT0005[0m[0m
2025-05-24 15:25:49,461 - INFO - [0m0 Patients fulfilled the inclusion criterion[0m
2025-05-24 15:25:49,462 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 15:25:49,480 - ERROR - Traceback (most recent call last):
2025-05-24 15:25:49,480 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 15:25:49,481 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 152, in execute
2025-05-24 15:25:49,481 - ERROR -     if self.target_set is not None: os.makedirs(self.target_set, exist_ok=True)AttributeError: 'DatasetConverter' object has no attribute 'target_set'
2025-05-24 15:30:44,340 - INFO - [0m0 Patients fulfilled the inclusion criterion[0m
2025-05-24 15:30:44,341 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 15:30:44,352 - ERROR - Traceback (most recent call last):
2025-05-24 15:30:44,352 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 15:30:44,352 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 152, in execute
2025-05-24 15:30:44,352 - ERROR -     if self.target_set is not None: os.makedirs(self.target_set, exist_ok=True)AttributeError: 'DatasetConverter' object has no attribute 'target_set'
2025-05-24 15:31:46,187 - INFO - [0m0 Patients fulfilled the inclusion criterion[0m
2025-05-24 15:31:46,187 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 15:31:46,197 - ERROR - Traceback (most recent call last):
2025-05-24 15:31:46,198 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 15:31:46,198 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 152, in execute
2025-05-24 15:31:46,198 - ERROR -     if self.target_set is not None: os.makedirs(self.target_set, exist_ok=True)AttributeError: 'DatasetConverter' object has no attribute 'target_set'
2025-05-24 15:32:26,216 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:32:26,217 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:32:26,217 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:32:26,240 - ERROR - Traceback (most recent call last):
2025-05-24 15:32:26,240 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:32:26,241 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 423, in execute
2025-05-24 15:32:26,241 - ERROR -     job.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 45, in execute
2025-05-24 15:32:26,241 - ERROR -     t1, t2 = self._filter_anat(t1, t1c, t2, self.pat, key)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 185, in _filter_anat
2025-05-24 15:32:26,241 - ERROR -     else: t1_filtered = self._filter_list(t1, pat, ses)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 202, in _filter_list
2025-05-24 15:32:26,242 - ERROR -     run_number = self._extract_key_value(image, 'run')AttributeError: 'PatientRegistrationJob' object has no attribute '_extract_key_value'
2025-05-24 15:33:34,224 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:33:34,224 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:33:34,224 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:33:34,240 - ERROR - Traceback (most recent call last):
2025-05-24 15:33:34,240 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:33:34,241 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 427, in execute
2025-05-24 15:33:34,241 - ERROR -     job.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 45, in execute
2025-05-24 15:33:34,241 - ERROR -     t1, t2 = self._filter_anat(t1, t1c, t2, self.pat, key)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 189, in _filter_anat
2025-05-24 15:33:34,241 - ERROR -     else: t1_filtered = self._filter_list(t1, pat, ses)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 208, in _filter_list
2025-05-24 15:33:34,242 - ERROR -     has_sub = self._has_sub_in_json(str(self.bids_set/pat/ses/'anat'/image))AttributeError: 'PatientRegistrationJob' object has no attribute '_has_sub_in_json'
2025-05-24 15:34:26,213 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:34:26,214 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:34:26,214 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:34:26,326 - ERROR - Traceback (most recent call last):
2025-05-24 15:34:26,326 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:34:26,326 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 440, in execute
2025-05-24 15:34:26,326 - ERROR -     job.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 62, in execute
2025-05-24 15:34:26,327 - ERROR -     if (self.bids_set/self.pat/anat_study/'anat').is_dir() and t0_image is None:UnboundLocalError: local variable 't0_image' referenced before assignment
2025-05-24 15:36:15,550 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:36:15,551 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:36:15,551 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:36:15,610 - ERROR - Traceback (most recent call last):
2025-05-24 15:36:15,611 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:36:15,612 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 439, in execute
2025-05-24 15:36:15,612 - ERROR -     job.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 65, in execute
2025-05-24 15:36:15,612 - ERROR -     self.log.tagged_print('INFO', f'Identified t0 as study day {anat_study} for patient {self.pat}', self.info_format)AttributeError: 'PatientRegistrationJob' object has no attribute 'log'
2025-05-24 15:44:41,648 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:44:41,648 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:44:41,649 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:44:41,649 - ERROR - Exception ignored in: <function Printer.__del__ at 0x7f11e4177130>Traceback (most recent call last):
2025-05-24 15:44:41,649 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 61, in __del__
2025-05-24 15:44:41,649 - ERROR -     if self.log is not None:AttributeError: 'Printer' object has no attribute 'log'
2025-05-24 15:44:41,652 - ERROR - Traceback (most recent call last):
2025-05-24 15:44:41,652 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:44:41,652 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 439, in execute
2025-05-24 15:44:41,653 - ERROR -     job = PatientRegistrationJob(self.bids_set, self.clean_set, pat, study_dict, keys)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 22, in __init__
2025-05-24 15:44:41,653 - ERROR -     self.log = Printer('txt', False, 'RegistrationJob', location=clean_set/pat)TypeError: Printer.__init__() got an unexpected keyword argument 'location'
2025-05-24 15:46:38,742 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:46:38,743 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:46:38,743 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:46:38,744 - ERROR - Exception ignored in: <function Printer.__del__ at 0x7f139eb93130>Traceback (most recent call last):
2025-05-24 15:46:38,744 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 61, in __del__
2025-05-24 15:46:38,745 - ERROR -     if self.log is not None:AttributeError: 'Printer' object has no attribute 'log'
2025-05-24 15:46:38,749 - ERROR - Traceback (most recent call last):
2025-05-24 15:46:38,749 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:46:38,750 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 439, in execute
2025-05-24 15:46:38,750 - ERROR -     job = PatientRegistrationJob(self.bids_set, self.clean_set, pat, study_dict, keys)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 22, in __init__
2025-05-24 15:46:38,750 - ERROR -     self.log = Printer('txt', False, 'RegistrationJob', location=clean_set/pat)TypeError: Printer.__init__() got an unexpected keyword argument 'location'
2025-05-24 15:49:24,282 - ERROR - Traceback (most recent call last):
2025-05-24 15:49:24,283 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 93, in <module>
2025-05-24 15:49:24,283 - ERROR -     register = FilterRegisterMain(bids_set, processed_set)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 388, in __init__
2025-05-24 15:49:24,283 - ERROR -     self.log = Printer(log_type='txt', log_prefix='Filter-Register')  File "/home/lorenz/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 26, in __init__
2025-05-24 15:49:24,283 - ERROR -     self.log = open(filename, 'w')PermissionError: [Errno 13] Permission denied: '/20250524-1549_Filter-Register_PrettyPrint_Autolog.txt'
2025-05-24 15:49:24,409 - ERROR - Exception ignored in: <function Printer.__del__ at 0x7fdbf128ef80>Traceback (most recent call last):
2025-05-24 15:49:24,409 - ERROR -   File "/home/lorenz/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 69, in __del__
2025-05-24 15:49:24,409 - ERROR -     if self.log is not None:AttributeError: 'Printer' object has no attribute 'log'
2025-05-24 15:50:25,888 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:50:25,889 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 15:50:25,889 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 15:50:25,889 - ERROR - Exception ignored in: <function Printer.__del__ at 0x7f4204023130>Traceback (most recent call last):
2025-05-24 15:50:25,889 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 61, in __del__
2025-05-24 15:50:25,889 - ERROR -     if self.log is not None:AttributeError: 'Printer' object has no attribute 'log'
2025-05-24 15:50:25,890 - ERROR - Traceback (most recent call last):
2025-05-24 15:50:25,890 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 15:50:25,890 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 439, in execute
2025-05-24 15:50:25,890 - ERROR -     job = PatientRegistrationJob(self.bids_set, self.clean_set, pat, study_dict, keys)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 22, in __init__
2025-05-24 15:50:25,890 - ERROR -     self.log = Printer('txt', False, 'RegistrationJob', location=clean_set/pat)TypeError: Printer.__init__() got an unexpected keyword argument 'location'
2025-05-24 16:02:14,240 - ERROR - Traceback (most recent call last):
2025-05-24 16:02:14,240 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 93, in <module>
2025-05-24 16:02:14,240 - ERROR -     register = FilterRegisterMain(bids_set, processed_set)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 388, in __init__
2025-05-24 16:02:14,240 - ERROR -     self.log = Printer(log_type='txt', log_prefix='Filter-Register')  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 26, in __init__
2025-05-24 16:02:14,240 - ERROR -     self.log = open(filename, 'w')PermissionError: [Errno 13] Permission denied: '/20250524-1602_Filter-Register_PrettyPrint_Autolog.txt'
2025-05-24 16:02:14,330 - ERROR - Exception ignored in: <function Printer.__del__ at 0x7f8e02d9f2e0>Traceback (most recent call last):
2025-05-24 16:02:14,331 - ERROR -   File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/PrettyPrint/output.py", line 69, in __del__
2025-05-24 16:02:14,331 - ERROR -     if self.log is not None:AttributeError: 'Printer' object has no attribute 'log'
2025-05-24 16:06:21,995 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:06:21,995 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:06:21,995 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:06:22,068 - ERROR - Traceback (most recent call last):
2025-05-24 16:06:22,068 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 16:06:22,068 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 440, in execute
2025-05-24 16:06:22,068 - ERROR -     job.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 66, in execute
2025-05-24 16:06:22,068 - ERROR -     self.log.tagged_print('INFO', f'Identified t0 as study day {anat_study} for patient {self.pat}', self.info_format)AttributeError: 'PatientRegistrationJob' object has no attribute 'info_format'
2025-05-24 16:09:45,748 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:09:45,748 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:09:45,748 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:09:45,754 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20191012115327 for patient sub-PAT0005[0m[0m
2025-05-24 16:11:22,500 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_acq-sag_run-2_T1w.nii.gz[0m[0m
2025-05-24 16:11:24,529 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_acq-tra_rec-nd_run-1_T2w.nii.gz[0m[0m
2025-05-24 16:11:25,427 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20191012115327 and struct study ses-20191012105420 to t0[0m[0m
2025-05-24 16:12:26,119 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20191227083455 to t0[0m[0m
2025-05-24 16:13:14,891 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20200218135546 to t0[0m[0m
2025-05-24 16:13:14,923 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-05-24 16:13:14,923 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 16:13:14,968 - ERROR - Traceback (most recent call last):
2025-05-24 16:13:14,968 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 16:13:14,969 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 152, in execute
2025-05-24 16:13:14,969 - ERROR -     if self.target_set is not None: os.makedirs(self.target_set, exist_ok=True)AttributeError: 'DatasetConverter' object has no attribute 'target_set'
2025-05-24 16:24:09,814 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180307091258/1_NoSeriesDescription[0m[0m
2025-05-24 16:24:09,823 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20180307091258 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 16:24:10,814 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS[0m[0m
2025-05-24 16:24:11,760 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1800226159.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 16:24:17,665 - INFO - [0m[31m[4m[1mFAIL[0m:[0m RTSTRUCT conversion failed for RTSS at path /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS[0m[0m
2025-05-24 16:24:27,073 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTDOSE/RD.1.2.840.114358.14038002793810.20181010112643.9749596777232 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20180926102757/0_PTV1_Brain_Final_76min - RTSS/RS.1.2.840.114358.14038002793810.20181010112641.9749591690261[0m[0m
2025-05-24 16:24:27,769 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS[0m[0m
2025-05-24 16:24:28,394 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1800269211.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 16:24:31,372 - INFO - [0m[31m[4m[1mFAIL[0m:[0m RTSTRUCT conversion failed for RTSS at path /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS[0m[0m
2025-05-24 16:24:37,178 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTDOSE/RD.1.2.840.114358.14038002793774.20181218130710.4211221282190 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204111427/0_Brain_20Gy_30min_final - RTSS/RS.1.2.840.114358.14038002793774.20181218130709.4211218392177[0m[0m
2025-05-24 16:24:38,155 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20181204113931/1_RS: Approved Structure Set[0m[0m
2025-05-24 16:24:38,177 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20181204113931 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 16:24:39,437 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Found matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS[0m[0m
2025-05-24 16:24:39,865 - ERROR - /home/lorenz/.venv/lib/python3.10/site-packages/pydicom/valuerep.py:290: UserWarning: Invalid value for VR UI: '1.2.826.0.1.3680043.2.146.2.20.PAT-0005.1900248802.0'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
  warnings.warn(msg)
2025-05-24 16:25:34,004 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined RTStruct file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS/RS.1.2.840.114358.14038002793774.20191031120316.6275089393500[0m[0m
2025-05-24 16:25:53,546 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Coined corresponding RTDose file /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - SMOOTHED DOSE/RD.1.2.840.114358.14038002793774.20191031120319.6275098034636 for RTStruct /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191012105420/0_Tronc_6Gy_38min_MCfinal - RTSS/RS.1.2.840.114358.14038002793774.20191031120316.6275089393500[0m[0m
2025-05-24 16:25:54,240 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20191224090431/1_RS: Approved Structure Set[0m[0m
2025-05-24 16:25:54,247 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20191224090431 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 16:25:55,668 - INFO - [0m[31m[4m[1mFAIL[0m:[0m Could not find matching CT for RTSS /mnt/nas6/data/Target/batch_copy/Gado_stability_test/raw/sub-PAT-0005/ses-20200327144251/1_RS: Approved Structure Set[0m[0m
2025-05-24 16:25:55,669 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20200327144251 would be left empty as no RT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 16:25:55,737 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Directory /mnt/nas6/data/Target/batch_copy/Gado_stability_test/bids/sub-PAT0005/ses-20191018125909 would be left empty as no CT can be converted, I`m removing it from the BIDS set.[0m[0m
2025-05-24 16:26:06,021 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:26:06,022 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:26:06,022 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 16:26:06,107 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20191012115327 for patient sub-PAT0005[0m[0m
2025-05-24 16:27:45,999 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_run-2_ContrastT1w.nii.gz[0m[0m
2025-05-24 16:27:47,736 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_acq-tra_rec-nd_run-1_T2w.nii.gz[0m[0m
2025-05-24 16:27:48,525 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20191012115327 and struct study ses-20191012105420 to t0[0m[0m
2025-05-24 16:28:52,412 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20191227083455 to t0[0m[0m
2025-05-24 16:29:43,708 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20200218135546 to t0[0m[0m
2025-05-24 16:29:43,755 - INFO - [0m1 Patients fulfilled the inclusion criterion[0m
2025-05-24 16:29:43,756 - INFO - [0mCaught exceptions in patients [], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 16:29:43,777 - ERROR - Traceback (most recent call last):
2025-05-24 16:29:43,778 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 16:29:43,778 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 156, in execute
2025-05-24 16:29:43,778 - ERROR -     self.target_timepoint_identifier = len([file for file in os.listdir(self.target_set) if file.endswith('0000.nii.gz')]) ## used to uniquely identify timepoints in the output directoryAttributeError: 'DatasetConverter' object has no attribute 'target_set'
2025-05-24 16:53:17,629 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 16:53:41,381 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}
to {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 16:53:41,382 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0015, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:53:41,382 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 16:53:41,383 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0015[0m[0m
2025-05-24 16:54:49,485 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20200903090321': None, 'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}
to {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 16:54:49,485 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0016, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:54:49,485 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 16:54:49,494 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0016[0m[0m
2025-05-24 16:54:49,495 - INFO - [0m[34m[1m[4mINFO[0m:[0m Running registrations[0m[0m
2025-05-24 16:54:49,679 - ERROR - joblib.externals.loky.process_executor._RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/externals/loky/backend/queues.py", line 159, in _feed
    obj_ = dumps(obj, reducers=reducers)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/externals/loky/backend/reduction.py", line 215, in dumps
    dump(obj, buf, reducers=reducers, protocol=protocol)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/externals/loky/backend/reduction.py", line 208, in dump
    _LokyPickler(file, reducers=reducers, protocol=protocol).dump(obj)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/externals/cloudpickle/cloudpickle.py", line 1245, in dump
    return super().dump(obj)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/externals/cloudpickle/cloudpickle.py", line 931, in _file_reduce
    raise pickle.PicklingError(
_pickle.PicklingError: Cannot pickle files that are not opened for reading: w
"""
The above exception was the direct cause of the following exception:
2025-05-24 16:54:49,679 - ERROR - Traceback (most recent call last):
2025-05-24 16:54:49,679 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 16:54:49,680 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 464, in execute
2025-05-24 16:54:49,680 - ERROR -     results = Parallel(n_jobs=self.n_jobs)(delayed(job.execute)() for job in jobs)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 2007, in __call__
2025-05-24 16:54:49,681 - ERROR -     return output if self.return_generator else list(output)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 1650, in _get_outputs
2025-05-24 16:54:49,681 - ERROR -     yield from self._retrieve()  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 1754, in _retrieve
2025-05-24 16:54:49,682 - ERROR -     self._raise_error_fast()  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 1789, in _raise_error_fast
2025-05-24 16:54:49,683 - ERROR -     error_job.get_result(self.timeout)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 745, in get_result
2025-05-24 16:54:49,687 - ERROR -     return self._return_or_raise()  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/joblib/parallel.py", line 763, in _return_or_raise
2025-05-24 16:54:49,687 - ERROR -     raise self._result_pickle.PicklingError: Could not pickle the task to send it to the workers.
2025-05-24 16:57:35,058 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 16:58:02,142 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}
to {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 16:58:02,142 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0015, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 16:58:02,142 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 16:58:02,155 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0015[0m[0m
2025-05-24 16:59:02,826 - ERROR - Traceback (most recent call last):
2025-05-24 16:59:02,826 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 94, in <module>
2025-05-24 16:59:02,826 - ERROR -     register.execute()  File "/home/lorenz/BMPipeline/src/filter_register.py", line 433, in execute
2025-05-24 16:59:02,827 - ERROR -     ordered_anat, ordered_rt = self._clean_redundancies(ordered_studies, pat)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 639, in _clean_redundancies
2025-05-24 16:59:02,827 - ERROR -     cur_struct = self._load_image(self.bids_set/pat/rtses[0]/'rt'/rtset/struct)  File "/home/lorenz/BMPipeline/src/filter_register.py", line 702, in _load_image
2025-05-24 16:59:02,827 - ERROR -     img = sitk.ReadImage(path)  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/SimpleITK/extra.py", line 384, in ReadImage
2025-05-24 16:59:02,828 - ERROR -     return reader.Execute()  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/SimpleITK/SimpleITK.py", line 8502, in Execute
2025-05-24 16:59:02,829 - ERROR -     return _SimpleITK.ImageFileReader_Execute(self)KeyboardInterrupt
2025-05-24 17:00:29,643 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 17:00:37,924 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:00:37,924 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:00:37,924 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:00:37,924 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0005[0m[0m
2025-05-24 17:01:05,526 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}
to {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:01:05,527 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0015, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:01:05,527 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:01:05,527 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0015[0m[0m
2025-05-24 17:02:13,881 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20200903090321': None, 'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}
to {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:02:13,881 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0016, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:02:13,881 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:02:13,881 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0016[0m[0m
2025-05-24 17:02:13,881 - INFO - [0m[34m[1m[4mINFO[0m:[0m Running registrations[0m[0m
2025-05-24 17:02:32,104 - INFO - [0m[34m[1m[4mINFO[0m:[0m Registration completed in 0.0h 0.0min 18.22242569923401s[0m[0m
2025-05-24 17:02:32,104 - INFO - [0m[34m[1m[4mINFO[0m:[0m Checking for errors[0m[0m
2025-05-24 17:02:32,105 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0005, message:
sub-PAT0005--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:02:32,105 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0015, message:
sub-PAT0015--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:02:32,105 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0016, message:
sub-PAT0016--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:02:32,106 - INFO - [0m3 Patients fulfilled the inclusion criterion[0m
2025-05-24 17:02:32,106 - INFO - [0mCaught exceptions in patients ['sub-PAT0005', 'sub-PAT0015', 'sub-PAT0016'], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 17:02:32,111 - ERROR - Traceback (most recent call last):
2025-05-24 17:02:32,111 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 17:02:32,112 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 181, in execute
2025-05-24 17:02:32,112 - ERROR -     raise RuntimeError(f'Expected t0 to have RTs but could not find any for patient {pat} in study {ordered_studies[0]}')RuntimeError: Expected t0 to have RTs but could not find any for patient sub-PAT0005 in study ses-20191012115327
2025-05-24 17:09:40,613 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 17:09:47,615 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:09:47,615 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:09:47,615 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:09:47,615 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0005[0m[0m
2025-05-24 17:10:16,518 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}
to {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:10:16,518 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0015, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:10:16,519 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:10:16,519 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0015[0m[0m
2025-05-24 17:11:25,373 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20200903090321': None, 'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}
to {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:11:25,373 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0016, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:11:25,374 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:11:25,374 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0016[0m[0m
2025-05-24 17:11:25,374 - INFO - [0m[34m[1m[4mINFO[0m:[0m Running registrations[0m[0m
2025-05-24 17:11:46,413 - INFO - [0m[34m[1m[4mINFO[0m:[0m Registration completed in 0.0h 0.0min 21.03901171684265s[0m[0m
2025-05-24 17:11:46,413 - INFO - [0m[34m[1m[4mINFO[0m:[0m Checking for errors[0m[0m
2025-05-24 17:11:46,414 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0005, message:
sub-PAT0005--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:11:46,415 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0015, message:
sub-PAT0015--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:11:46,416 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0016, message:
sub-PAT0016--FAILED with exeption Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 270, in predict_from_files
    return self.predict_from_data_iterator(data_iterator, save_probabilities, num_processes_segmentation_export)
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 363, in predict_from_data_iterator
    for preprocessed in data_iterator:
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/data_iterators.py", line 111, in preprocessing_iterator_fromfiles
    raise RuntimeError('Background workers died. Look for the error message further up! If there is '
RuntimeError: Background workers died. Look for the error message further up! If there is none then your RAM was full and the worker was killed by the OS. Use fewer workers or get more RAM in that case!
[0m[0m
2025-05-24 17:11:46,421 - INFO - [0m3 Patients fulfilled the inclusion criterion[0m
2025-05-24 17:11:46,421 - INFO - [0mCaught exceptions in patients ['sub-PAT0005', 'sub-PAT0015', 'sub-PAT0016'], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 17:11:46,484 - ERROR - Traceback (most recent call last):
2025-05-24 17:11:46,484 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 17:11:46,485 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 181, in execute
2025-05-24 17:11:46,485 - ERROR -     raise RuntimeError(f'Expected t0 to have RTs but could not find any for patient {pat} in study {ordered_studies[0]}')RuntimeError: Expected t0 to have RTs but could not find any for patient sub-PAT0005 in study ses-20191012115327
2025-05-24 17:14:28,102 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 17:14:37,415 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:14:37,416 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:14:37,416 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:14:37,416 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0005[0m[0m
2025-05-24 17:15:04,371 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}
to {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:15:04,371 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0015, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:15:04,372 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20180903132557': 'ses-20180526150344', 'ses-20181130125344': None, 'ses-20190308092733': None, 'ses-20190324124058': 'ses-20190324094005', 'ses-20190607151045': None, 'ses-20190830133938': None, 'ses-20191111143932': None, 'ses-20200118081600': 'ses-20200120155752', 'ses-20200411074720': None, 'ses-20200619140537': None, 'ses-20200831143825': None, 'ses-20201103115928': None, 'ses-20210124180828': None, 'ses-20210411132907': None, 'ses-20210620155638': None, 'ses-20210803084809': 'ses-20210803121758', 'ses-20211018174002': None}[0m[0m
2025-05-24 17:15:04,372 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0015[0m[0m
2025-05-24 17:16:08,949 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20200903090321': None, 'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}
to {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:16:08,950 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0016, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:16:08,950 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20201006120816': 'ses-20201002105852', 'ses-20201215084315': None, 'ses-20210225114400': None, 'ses-20210805083622': 'ses-20210810150504'}[0m[0m
2025-05-24 17:16:08,950 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Created registration job for sub-PAT0016[0m[0m
2025-05-24 17:16:08,950 - INFO - [0m[34m[1m[4mINFO[0m:[0m Running registrations[0m[0m
2025-05-24 17:16:09,320 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20191012115327 for patient sub-PAT0005[0m[0m
2025-05-24 17:16:09,324 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20180903132557 for patient sub-PAT0015[0m[0m
2025-05-24 17:16:20,172 - INFO - [0m[34m[1m[4mINFO[0m:[0m Registration completed in 0.0h 0.0min 11.222234725952148s[0m[0m
2025-05-24 17:16:20,174 - INFO - [0m[34m[1m[4mINFO[0m:[0m Checking for errors[0m[0m
2025-05-24 17:16:20,174 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0005, message:
sub-PAT0005--FAILED with exeption daemonic processes are not allowed to have children
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 258, in predict_from_files
    self._manage_input_and_output_lists(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 177, in _manage_input_and_output_lists
    list_of_lists_or_source_folder = create_lists_from_splitted_dataset_folder(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/utilities/utils.py", line 53, in create_lists_from_splitted_dataset_folder
    with Pool(processes=num_processes) as pool:
  File "/usr/lib/python3.10/multiprocessing/context.py", line 119, in Pool
    return Pool(processes, initializer, initargs, maxtasksperchild,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 215, in __init__
    self._repopulate_pool()
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 306, in _repopulate_pool
    return self._repopulate_pool_static(self._ctx, self.Process,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 329, in _repopulate_pool_static
    w.start()
  File "/usr/lib/python3.10/multiprocessing/process.py", line 118, in start
    assert not _current_process._config.get('daemon'), \
AssertionError: daemonic processes are not allowed to have children
[0m[0m
2025-05-24 17:16:20,174 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0015, message:
sub-PAT0015--FAILED with exeption daemonic processes are not allowed to have children
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 258, in predict_from_files
    self._manage_input_and_output_lists(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 177, in _manage_input_and_output_lists
    list_of_lists_or_source_folder = create_lists_from_splitted_dataset_folder(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/utilities/utils.py", line 53, in create_lists_from_splitted_dataset_folder
    with Pool(processes=num_processes) as pool:
  File "/usr/lib/python3.10/multiprocessing/context.py", line 119, in Pool
    return Pool(processes, initializer, initargs, maxtasksperchild,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 215, in __init__
    self._repopulate_pool()
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 306, in _repopulate_pool
    return self._repopulate_pool_static(self._ctx, self.Process,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 329, in _repopulate_pool_static
    w.start()
  File "/usr/lib/python3.10/multiprocessing/process.py", line 118, in start
    assert not _current_process._config.get('daemon'), \
AssertionError: daemonic processes are not allowed to have children
[0m[0m
2025-05-24 17:16:20,176 - INFO - [0m[31m[4m[1mERROR[0m:[0m Error occured in sub-PAT0016, message:
sub-PAT0016--FAILED with exeption daemonic processes are not allowed to have children
Traceback (most recent call last):
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 81, in execute
    t0_mask = self._segment_image(t0_image, 'mr')
  File "/home/lorenz/BMPipeline/src/filter_register.py", line 269, in _segment_image
    mask = totalsegmentator(sitk2nib(image), fast=fast, task='total_mr', quiet=True) # get segmentation brain = 50
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/python_api.py", line 620, in totalsegmentator
    seg_img, ct_img, stats = nnUNet_predict_image(input, output, task_id, model=model, folds=folds,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 534, in nnUNet_predict_image
    nnUNetv2_predict(tmp_dir, tmp_dir, task_id, model, folds, trainer, tta,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/totalsegmentator/nnunet.py", line 276, in nnUNetv2_predict
    predictor.predict_from_files(dir_in, dir_out,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 258, in predict_from_files
    self._manage_input_and_output_lists(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/inference/predict_from_raw_data.py", line 177, in _manage_input_and_output_lists
    list_of_lists_or_source_folder = create_lists_from_splitted_dataset_folder(list_of_lists_or_source_folder,
  File "/home/lorenz/BMPipeline/.venv/lib/python3.10/site-packages/nnunetv2/utilities/utils.py", line 53, in create_lists_from_splitted_dataset_folder
    with Pool(processes=num_processes) as pool:
  File "/usr/lib/python3.10/multiprocessing/context.py", line 119, in Pool
    return Pool(processes, initializer, initargs, maxtasksperchild,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 215, in __init__
    self._repopulate_pool()
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 306, in _repopulate_pool
    return self._repopulate_pool_static(self._ctx, self.Process,
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 329, in _repopulate_pool_static
    w.start()
  File "/usr/lib/python3.10/multiprocessing/process.py", line 118, in start
    assert not _current_process._config.get('daemon'), \
AssertionError: daemonic processes are not allowed to have children
[0m[0m
2025-05-24 17:16:20,177 - INFO - [0m3 Patients fulfilled the inclusion criterion[0m
2025-05-24 17:16:20,178 - INFO - [0mCaught exceptions in patients ['sub-PAT0005', 'sub-PAT0015', 'sub-PAT0016'], fix and rerun they have not been logged in the progress file.[0m
2025-05-24 17:16:20,208 - ERROR - Traceback (most recent call last):
2025-05-24 17:16:20,208 - ERROR -   File "/home/lorenz/BMPipeline/step0_main_full_pipeline.py", line 98, in <module>
2025-05-24 17:16:20,209 - ERROR -     DC.execute(set502, '502')  File "/home/lorenz/BMPipeline/src/nnUnet_data_preparation.py", line 181, in execute
2025-05-24 17:16:20,209 - ERROR -     raise RuntimeError(f'Expected t0 to have RTs but could not find any for patient {pat} in study {ordered_studies[0]}')RuntimeError: Expected t0 to have RTs but could not find any for patient sub-PAT0005 in study ses-20191012115327
2025-05-24 17:18:15,535 - INFO - [0m[34m[1m[4mINFO[0m:[0m Setting up registration jobs...[0m[0m
2025-05-24 17:18:22,510 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Cropped patient history dict from {'ses-20171228194522': None, 'ses-20180921071420': None, 'ses-20181127082846': None, 'ses-20190223074005': None, 'ses-20190503074035': None, 'ses-20190815171835': None, 'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}
to {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:18:22,511 - INFO - [0m[34m[1m[4mINFO[0m:[0m Processing sub-PAT0005, fulfills criterion: {'studies >=': 0, 'obersvation period >=': 0, 'avg study interval <=': inf, 'rtstructs present >=': 1}[0m[0m
2025-05-24 17:18:22,511 - INFO - [0m[34m[1m[4mMISC[0m:[0m Patient study matching: {'ses-20191012115327': 'ses-20191012105420', 'ses-20191227083455': None, 'ses-20200218135546': None}[0m[0m
2025-05-24 17:18:22,537 - INFO - [0m[34m[1m[4mINFO[0m:[0m Identified t0 as study day ses-20191012115327 for patient sub-PAT0005[0m[0m
2025-05-24 17:20:01,221 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_run-2_ContrastT1w.nii.gz[0m[0m
2025-05-24 17:20:03,308 - INFO - [0m[33m[4m[1mWARNING[0m:[0m Overwriting T1 image at location /mnt/nas6/data/Target/batch_copy/Gado_stability_test/processed/sub-PAT0005/ses-20191012115327/anat/sub-PAT0005_ses-20191012115327_acq-tra_rec-nd_run-1_T2w.nii.gz[0m[0m
2025-05-24 17:20:04,119 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved structs, dose and anatomical images from study ses-20191012115327 and struct study ses-20191012105420 to t0[0m[0m
2025-05-24 17:21:00,319 - INFO - [0m[32m[4m[1mSUCCESS[0m:[0m Moved anatomical images from study ses-20191227083455 to t0[0m[0m
